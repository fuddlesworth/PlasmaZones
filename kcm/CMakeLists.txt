# PlasmaZones KCM (KDE Control Module)
# SPDX-License-Identifier: GPL-3.0-or-later

add_definitions(-DTRANSLATION_DOMAIN=\"kcm_plasmazones\")

# KCM Sources
set(kcm_plasmazones_SRCS
    kcm_plasmazones.cpp
    kcm_plasmazones.h
)

# Create KCM plugin
kcmutils_add_qml_kcm(kcm_plasmazones
    SOURCES ${kcm_plasmazones_SRCS}
)

target_link_libraries(kcm_plasmazones
    PRIVATE
        plasmazones_core
        plasmazones_shared_qml
        plasmazones_shared_qmlplugin  # Generated by qt_add_qml_module
        Qt6::Quick
        Qt6::DBus
        KF6::I18n
        KF6::KCMUtils
        KF6::ConfigWidgets
        KF6::GlobalAccel
)

# Install QML files
install(FILES
    ui/main.qml
    ui/AlgorithmPreview.qml
    ui/KeySequenceInput.qml
    ui/LayoutThumbnail.qml
    ui/ModifierCheckBoxes.qml
    ui/PositionPicker.qml
    ui/PreviewSizeControl.qml
    DESTINATION ${KDE_INSTALL_QMLDIR}/org/kde/kcms/plasmazones
)
