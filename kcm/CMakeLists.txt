# PlasmaZones KCM (KDE Control Module)
# SPDX-License-Identifier: GPL-3.0-or-later

add_definitions(-DTRANSLATION_DOMAIN=\"kcm_plasmazones\")

# KCM Sources
set(kcm_plasmazones_SRCS
    kcm_plasmazones.cpp
    kcm_plasmazones.h
)

# Create KCM plugin
kcmutils_add_qml_kcm(kcm_plasmazones
    SOURCES ${kcm_plasmazones_SRCS}
)

target_link_libraries(kcm_plasmazones
    PRIVATE
        plasmazones_core
        plasmazones_shared_qml
        plasmazones_shared_qmlplugin  # Generated by qt_add_qml_module
        Qt6::Quick
        Qt6::DBus
        KF6::I18n
        KF6::KCMUtils
        KF6::ConfigWidgets
        KF6::GlobalAccel
)

# Install QML files
install(FILES
    ui/main.qml
    ui/InputCapture.qml
    ui/KeySequenceInput.qml
    ui/LayoutThumbnail.qml
    ui/ModifierAndMouseCheckBoxes.qml
    ui/ModifierCheckBoxes.qml
    ui/PositionPicker.qml
    ui/PreviewSizeControl.qml
    ui/ColorButton.qml
    ui/LayoutComboBox.qml
    ui/AssignmentRow.qml
    DESTINATION ${KDE_INSTALL_QMLDIR}/org/kde/kcms/plasmazones
)

# Install tab component files
install(FILES
    ui/tabs/LayoutsTab.qml
    ui/tabs/EditorTab.qml
    ui/tabs/AssignmentsTab.qml
    ui/tabs/ZonesTab.qml
    ui/tabs/DisplayTab.qml
    ui/tabs/ExclusionsTab.qml
    ui/tabs/AboutTab.qml
    ui/tabs/ExclusionListCard.qml
    ui/tabs/MonitorAssignmentsCard.qml
    ui/tabs/ActivityAssignmentsCard.qml
    ui/tabs/QuickLayoutSlotsCard.qml
    ui/tabs/LayoutToolbar.qml
    ui/tabs/LayoutGridDelegate.qml
    DESTINATION ${KDE_INSTALL_QMLDIR}/org/kde/kcms/plasmazones/tabs
)
